<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Musikalischer Inhalt – How To Liederbuch – Das Liederpool-Projekt</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./liedlayout_doku.html" rel="next">
<link href="./metadaten.html" rel="prev">
<link href="./images/logo_buebuebue.svg" rel="icon" type="image/svg+xml">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": true,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>


<meta property="og:title" content="Musikalischer Inhalt – How To Liederbuch – Das Liederpool-Projekt">
<meta property="og:description" content="Wir sind das Liederpool-Projekt und wir machen Liederbücher. Auf dieser Website wollen wir eine möglichst vollständige Dokumentation unseres Systems sowie Tutorials und How-To’s bereitstellen, um den Einstieg und die Arbeit mit unserem System zu erleichtern.">
<meta property="og:site_name" content="How-To Liederbuch – Das Liederpool-Projekt">
<meta property="og:locale" content="de_DE">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/logo_buebuebue.svg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">How To Liederbuch – Das Liederpool-Projekt</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Suchen"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Navigation umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Moin</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./vorbereitung.html"> 
<span class="menu-text">Einführung</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./doku.html" aria-current="page"> 
<span class="menu-text">Doku</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./changelog.html"> 
<span class="menu-text">Changelog</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Dunkelmodus umschalten"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Lesemodus umschalten">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./doku.html">Doku</a></li><li class="breadcrumb-item"><a href="./liedsatz_standards.html">Liedersetzen-Prozess</a></li><li class="breadcrumb-item"><a href="./musikalischer_inhalt.html">Musikalischer Inhalt</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
  <div id="quarto-announcement" data-announcement-id="e8c4ac09f0d86144a5499aaa76d160a6" class="alert alert-warning hidden"><i class="bi bi-exclamation-triangle-fill quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p><strong>Achtung</strong> Aktuell gibt es Probleme unter Windows 10/11 bei der Nutzung des Python-Parsers. Das führt zu Fehlermeldungen beim Autor*innensystem. Wir arbeiten an der Behebung dieses Fehlers. Unter Linux und Mac sollten keine Probleme auftreten. Mehr dazu im Changelog.</p>
</div></div>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./doku.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Doku</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Liedersetzen-Prozess</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./liedsatz_standards.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Standards beim Liedersetzen</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./metadaten.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Metadaten</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./musikalischer_inhalt.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Musikalischer Inhalt</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./liedlayout_doku.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lied-Layout</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./liederbuch_layout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Liederbuch-Layout</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quellenlinks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Einbinden von Links als Quelle</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lifehacks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nützliche Lifehacks</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Review-Prozess</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./git_verstehen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Was ist eigentlich Git? 2.0</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Review</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown_tutorial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Markdown Basics</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Auf dieser Seite</h2>
   
  <ul>
  <li><a href="#wiederholungen-in-den-strophen" id="toc-wiederholungen-in-den-strophen" class="nav-link active" data-scroll-target="#wiederholungen-in-den-strophen">Wiederholungen in den Strophen</a></li>
  <li><a href="#melismata-mehrere-noten-zu-einer-silbe" id="toc-melismata-mehrere-noten-zu-einer-silbe" class="nav-link" data-scroll-target="#melismata-mehrere-noten-zu-einer-silbe">Melismata (mehrere Noten zu einer Silbe)</a></li>
  <li><a href="#mehrere-silben-zu-einer-note" id="toc-mehrere-silben-zu-einer-note" class="nav-link" data-scroll-target="#mehrere-silben-zu-einer-note">Mehrere Silben zu einer Note</a></li>
  <li><a href="#silbentrennung-bei-volta-klammern" id="toc-silbentrennung-bei-volta-klammern" class="nav-link" data-scroll-target="#silbentrennung-bei-volta-klammern">Silbentrennung bei Volta-Klammern</a></li>
  <li><a href="#umgang-mit-wiederholungen-bei-gleichbleibendem-text" id="toc-umgang-mit-wiederholungen-bei-gleichbleibendem-text" class="nav-link" data-scroll-target="#umgang-mit-wiederholungen-bei-gleichbleibendem-text">Umgang mit Wiederholungen bei gleichbleibendem Text</a></li>
  <li><a href="#umgang-mit-wiederholungen-bei-neuem-text" id="toc-umgang-mit-wiederholungen-bei-neuem-text" class="nav-link" data-scroll-target="#umgang-mit-wiederholungen-bei-neuem-text">Umgang mit Wiederholungen bei „neuem“ Text</a></li>
  <li><a href="#strophen-mit-unterschiedlichen-noten--oder-silbenverteilung-oder-rhythmus" id="toc-strophen-mit-unterschiedlichen-noten--oder-silbenverteilung-oder-rhythmus" class="nav-link" data-scroll-target="#strophen-mit-unterschiedlichen-noten--oder-silbenverteilung-oder-rhythmus">Strophen mit unterschiedlichen Noten- oder Silbenverteilung oder Rhythmus</a></li>
  <li><a href="#zeilenumbrüche-in-den-strophen" id="toc-zeilenumbrüche-in-den-strophen" class="nav-link" data-scroll-target="#zeilenumbrüche-in-den-strophen">Zeilenumbrüche in den Strophen</a></li>
  <li><a href="#leichte-textvariationen" id="toc-leichte-textvariationen" class="nav-link" data-scroll-target="#leichte-textvariationen">(Leichte) Textvariationen</a>
  <ul class="collapse">
  <li><a href="#innerhalb-einer-variante" id="toc-innerhalb-einer-variante" class="nav-link" data-scroll-target="#innerhalb-einer-variante">Innerhalb einer Variante</a></li>
  <li><a href="#verschiedene-varianten" id="toc-verschiedene-varianten" class="nav-link" data-scroll-target="#verschiedene-varianten">Verschiedene Varianten</a></li>
  </ul></li>
  <li><a href="#swing-style" id="toc-swing-style" class="nav-link" data-scroll-target="#swing-style">Swing-Style</a></li>
  <li><a href="#sec-kanon" id="toc-sec-kanon" class="nav-link" data-scroll-target="#sec-kanon">Markierungen für beispielsweise Kanoneinsätze</a></li>
  <li><a href="#optionale-akkorde" id="toc-optionale-akkorde" class="nav-link" data-scroll-target="#optionale-akkorde">Optionale Akkorde</a></li>
  <li><a href="#benutzerdefinierte-akkordnamen" id="toc-benutzerdefinierte-akkordnamen" class="nav-link" data-scroll-target="#benutzerdefinierte-akkordnamen">Benutzerdefinierte Akkordnamen</a></li>
  <li><a href="#akkordtabulatur" id="toc-akkordtabulatur" class="nav-link" data-scroll-target="#akkordtabulatur">Akkordtabulatur</a></li>
  <li><a href="#römische-ziffern" id="toc-römische-ziffern" class="nav-link" data-scroll-target="#römische-ziffern">Römische Ziffern</a></li>
  <li><a href="#balkensetzung" id="toc-balkensetzung" class="nav-link" data-scroll-target="#balkensetzung">Balkensetzung</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./doku.html">Doku</a></li><li class="breadcrumb-item"><a href="./liedsatz_standards.html">Liedersetzen-Prozess</a></li><li class="breadcrumb-item"><a href="./musikalischer_inhalt.html">Musikalischer Inhalt</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Musikalischer Inhalt</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>In diesem Abschnitt der Doku zeigen wir Lösungen für Probleme oder Herausforderungen, die sich aus der Arbeit mit unserem System ergeben. Vieles davon wurde von tux entwickelt und befindet sich in den <code>lilypond-common-includes</code>, bei manchen Themen verweisen wir auch einfach nur auf die LilyPond-Doku. Dieser Teil ist fokussiert auf Fragen bezüglich der Notation und dem Liedtext.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Anmerkung: Die Codebeispiele sind teilweise vereinfacht und verkürzt, um die Probleme und Lösungen möglichst einfach zu erklären. Sie sind damit nicht zwangsläufig eins zu eins übertragbar und anwendbar (und finden sich teils nicht eins zu eins im Liederpool wieder).</p>
</div>
</div>
<section id="wiederholungen-in-den-strophen" class="level2">
<h2 class="anchored" data-anchor-id="wiederholungen-in-den-strophen">Wiederholungen in den Strophen</h2>
<p>Problem: Wiederholungszeichen (<code>𝄆</code> und <code>𝄇</code> ) im Text sollen nur in den Strophen, nicht aber unter den Noten stehen. Trotzdem wollen wir denselben Text für beides verwenden.</p>
<p>Lösung: Vor den wiederholten Teil im Text <code>\repStartWithTag</code> und vor der letzten Silbe (nach den <code>--</code> !) <code>\repStophWithTag</code>.</p>
<p>Zur Erklärung: Es handelt sich faktisch um eine Stanza, die aber immer <em>vor</em> Silben gesetzt werden muss (sie kann aber auch rechts von Silben ausgerichtet werden). Diese Stanza wird nur bei einem bestimmten Tag ausgegeben, der <code>repeats</code> heißt. Mehr zu Tags findest du in der <a href="https://lilypond.org/doc/v2.25/Documentation/notation/using-tags.de.html">Lilypond-Doku</a>. Standardmäßig wird der Tag ausgegeben, soll das nicht der Fall sein (wie zum Beispiel unter den Noten), muss innerhalb des <code>MUSIC</code>-Teils der Befehl <code>\removeWithTag #'repeats</code> inkludiert werden.</p>
<p>Codebeispiel (aus: Ade zur guten Nacht):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>thirdVerse = \lyricmode<span class="kw"> {</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  %<span class="co">…</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\repStartWithTag</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  Wie man <span class="kw">--</span> chen <span class="kw">_</span> Glo <span class="kw">--</span> cken <span class="kw">--</span> schlag,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  da Herz bei <span class="kw">_</span> Her <span class="kw">--</span> zen lag,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  das hast du ver <span class="kw">--</span> ges <span class="kw">--</span> <span class="fu">\repStopWithTag</span> sen.</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>%<span class="co">…</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>MUSIC = <span class="kw">{</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\removeWithTag</span> #<span class="fl">'repeats</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;&lt;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">\songChords</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>      <span class="kw">\new</span> <span class="dt">ChoirStaff</span> = "<span class="st">firstStaff"</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&lt;&lt;</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        <span class="kw">\new</span> <span class="dt">Voice</span> = "<span class="st">firstVoice"</span> <span class="kw">{</span> <span class="fu">\melodyVoice</span> <span class="kw">}</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        \addlyrics<span class="kw"> {</span> <span class="fu">\firstVerse</span> <span class="kw">}</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>        \addlyrics<span class="kw"> {</span> <span class="fu">\secondVerse</span> <span class="kw">}</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>        \addlyrics<span class="kw"> {</span> <span class="fu">\thirdVerse</span> <span class="kw">}</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>        \addlyrics<span class="kw"> {</span> <span class="fu">\fourthVerse</span> <span class="kw">}</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&gt;&gt;</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&gt;&gt;</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<figcaption>In den Strophen sieht das dann zum Beispiel so aus:</figcaption>
<p><img src="images/wiederholungszeichen.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="melismata-mehrere-noten-zu-einer-silbe" class="level2">
<h2 class="anchored" data-anchor-id="melismata-mehrere-noten-zu-einer-silbe">Melismata (mehrere Noten zu einer Silbe)</h2>
<p>Problem: In manchen Strophen gibt es an einer Stelle ein Melisma und in der nächsten Strophe an derselben Stelle nicht. Dadurch verschiebt sich der Text.</p>
<p>Lösung: Nutzen von <code>\set ignoreMelismata = ##t</code> nach Bedarf. Siehe dazu auch in der <a href="https://lilypond.org/doc/v2.25/Documentation/notation/multiple-notes-to-one-syllable">LilyPond-Doku</a>.</p>
<p>Codebeispiel:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>%<span class="co">firstVerse mit Melismata:</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>firstVerse = \lyricmode<span class="kw"> {</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  #<span class="fl">(stanza </span><span class="dv">1</span><span class="fl">)</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  A <span class="kw">--</span> de zur gu <span class="kw">--</span> ten Nacht!</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  Jetzt wird der Schluss ge <span class="kw">--</span> macht,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  dass ich muss schei <span class="kw">--</span> den.</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\repStartWithTag</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  Im Som <span class="kw">--</span> mer, da wächst der Klee, im Win <span class="kw">--</span> ter da schneit’s den Schnee,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  da kom <span class="kw">--</span> me ich wie <span class="kw">--</span> <span class="fu">\repStopWithTag</span> der.</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>%<span class="co">secondVerse ohne Melismata</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>secondVerse = \lyricmode<span class="kw"> {</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  #<span class="fl">(stanza </span><span class="dv">2</span><span class="fl">)</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  Es trau <span class="kw">--</span> ern Berg und Tal,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  wo ich viel tau <span class="kw">--</span> send <span class="kw">--</span> mal</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  bin drü <span class="kw">--</span> ber gan <span class="kw">--</span> gen.</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">\set</span> <span class="dt">ignoreMelismata</span> = #<span class="dv">#t</span> %<span class="co">ab hier werden Melismata ignoriert</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\repStartWithTag</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  Das hat dei <span class="kw">--</span> ne Schön <span class="kw">--</span> heit ge <span class="kw">--</span> macht,</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  die hat mich zum Lie <span class="kw">--</span> ben ge <span class="kw">--</span> bracht</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="kw">\unset</span> <span class="dt">ignoreMelismata</span> %<span class="co">und hier wieder nicht mehr</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  mit gro <span class="kw">--</span> ßem Ver <span class="kw">--</span> lan <span class="kw">--</span> <span class="fu">\repStopWithTag</span> gen.</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<figcaption>So sieht dann der Output der ersten beiden Verse aus:</figcaption>
<p><img src="images/melismata.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="mehrere-silben-zu-einer-note" class="level2">
<h2 class="anchored" data-anchor-id="mehrere-silben-zu-einer-note">Mehrere Silben zu einer Note</h2>
<p>Siehe <a href="https://lilypond.org/doc/v2.24/Documentation/notation/common-notation-for-vocal-music#multiple-syllables-to-one-note">Lilypond-Doku</a>.</p>
</section>
<section id="silbentrennung-bei-volta-klammern" class="level2">
<h2 class="anchored" data-anchor-id="silbentrennung-bei-volta-klammern">Silbentrennung bei Volta-Klammern</h2>
<p>Problem: Es kommt vor, dass in Liedern die Melodie der Strophe wiederholt wird. Wenn man dabei eine Wiederholung mit Volta-Klammern notiert und ein Wort in die Wiederholung „hineinragt“, dann skipt man die folgenden Notenwerte, was aber dazu führt, dass unter der gesamten Klammer eins Lyric-Hyphens (Bindestriche zwischen den Silben) gesetzt werden.</p>
<p>Lösung: Mit <code>\once \hide \LyricHyphen</code> werden alle Hyphens der nächsten Silbe unterdrückt. Stattdessen wird mit <code>\rightHyphen</code> bzw. <code>\leftHyphen</code> ein manueller Hyphen gesetzt (die Funktion ist in den <code>common-includes</code> definiert). Die <code>\skip4</code>-Befehle werden ggf. über eine dafür gesetzte Variable definiert (im unteren Beispiel <code>voltaSkipsLyrics</code>). Da die Hyphens im Text (also den „Strophen“) nicht zu sehen sein sollen, werden sie mittels eines Tags gesetzt, der <code>volta</code> heißt. Mehr zu Tags in der <a href="https://lilypond.org/doc/v2.25/Documentation/notation/using-tags.de.html">Lilypond-Doku</a>.</p>
<p>Codebeispiel:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>voltaSkipsLyrics = \lyricmode<span class="kw"> {</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\repeat unfold 10</span> <span class="kw">{</span> <span class="fu">\skip</span><span class="dt">4</span> <span class="kw">}</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>firstVerseB = \lyricmode<span class="kw"> {</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  Hab es selbst so ge <span class="kw">--</span> wählt, nie die Jah <span class="kw">--</span> re <span class="fu">\tag</span> #<span class="fl">'volta</span> <span class="kw">{</span> <span class="kw">\once</span> <span class="fu">\hide</span> LyricHyphen <span class="fu">\rightHyphen</span> <span class="kw">}</span> ge <span class="kw">--</span> <span class="fu">\tag</span> #<span class="fl">'volta</span> <span class="kw">{</span> <span class="fu">\voltaSkipsLyrics</span> <span class="fu">\leftHyphen</span> <span class="kw">}</span> zählt,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  nie nach ges <span class="kw">--</span> tern und mor <span class="kw">--</span> gen ge <span class="kw">--</span> fragt.</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-hyphens" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-hyphens-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;1: Links das Problem, rechts die Lösung.
</figcaption>
<div aria-describedby="fig-hyphens-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<figcaption>So soll das nicht aussehen.</figcaption>
<p><img src="images/incorrect_hyphens.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<figcaption>So sieht das ganze dann „schön“ aus:</figcaption>
<p><img src="images/correct_hyphens.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</div>
</figure>
</div>
</section>
<section id="umgang-mit-wiederholungen-bei-gleichbleibendem-text" class="level2">
<h2 class="anchored" data-anchor-id="umgang-mit-wiederholungen-bei-gleichbleibendem-text">Umgang mit Wiederholungen bei gleichbleibendem Text</h2>
<p>Problem: Gibt es Volta-Klammern bei Liedern, in denen der Text des wiederholten Teils gleich ist, zum Beispiel, weil es nach der Klammer anders weitergeht, kommt es vor, dass man in die Lyrics zum Beispiel schreiben müsste: <code>Und je -- der Kerl, der mit uns war, hat für im -- mer sich zu uns ge -- sellt. Und sellt.</code>. Das ist natürlich unpraktisch für die Übernahme in die Strophen, weil man das <code>sellt. Und</code> ja nicht in den Strophen haben möchte.</p>
<p>Lösung: Auch hier kommen wieder Tags zum Einsatz und zwar wie folgt. Es wird ein neuer Tag <code>repeat</code> definiert, der alles in einschließt, was für die Volta-Wiederholungen notwendig ist. Für die Strophen werden dann extra-Variablen definiert, in denen dieser Tag ausgeschaltet wird. Wichtig: Der Tag muss sich natürlich auch in der Melodie und den Akkorden wiederfinden.</p>
<p>Codebeispiel:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>firstVerseWithRepeat = \lyricmode<span class="kw"> {</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  #<span class="fl">(stanza </span><span class="dv">1</span><span class="fl">)</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  Wir sind ei <span class="kw">--</span> ne klei <span class="kw">--</span> ne ver <span class="kw">--</span> lo <span class="kw">--</span> re <span class="kw">--</span> ne Schar,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  wir ste <span class="kw">--</span> hen für uns auf der Welt.</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\repStartWithTag</span> Und je <span class="kw">--</span> der Kerl, der mit uns war,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  hat für im <span class="kw">--</span> mer sich zu uns ge <span class="kw">--</span> <span class="fu">\tag</span> #<span class="fl">'repeat</span> <span class="kw">{</span> sellt. Und <span class="kw">}</span> <span class="fu">\repStopWithTag</span> sellt.</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>firstVerse = \lyricmode<span class="kw"> {</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\removeWithTag</span> #<span class="fl">'repeat</span> <span class="fu">\firstVerseWithRepeat</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>firstVoice = <span class="fu">\relative c'</span> <span class="kw">{</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\partial4</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  fis<span class="dt">4</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  g<span class="dt">8</span> e<span class="dt">4</span> fis<span class="dt">8</span> g e<span class="dt">4</span> g<span class="dt">8</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  fis g<span class="dt">4</span> fis<span class="dt">8</span> e<span class="dt">4</span> d<span class="dt">4</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  g<span class="dt">8</span> g<span class="dt">4</span> g<span class="dt">8</span> a d<span class="dt">4</span> c<span class="dt">8</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  h<span class="dt">2.</span> h<span class="dt">4</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\repeat volta 2</span> <span class="kw">{</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    c<span class="dt">4</span> c c c</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    h<span class="dt">8</span> h<span class="dt">4</span> <span class="ch">(</span>a<span class="dt">8</span><span class="ch">)</span> g<span class="dt">4</span> g<span class="dt">8</span> a</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    h<span class="dt">8</span> h<span class="dt">4</span> h<span class="dt">8</span> a h<span class="dt">4</span> a<span class="dt">8</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="kw">}</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\alternative</span> <span class="kw">{</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    %<span class="co"> Tag bedenken</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">\tag</span> #<span class="fl">'repeat</span> <span class="kw">{</span> g<span class="dt">2.</span> h<span class="dt">4</span> <span class="kw">}</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> g<span class="dt">1</span> <span class="kw">}</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>  <span class="kw">}</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>verseChords = \chordmode<span class="kw"> {</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\partial4</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>  s<span class="dt">4</span> e<span class="dt">1</span>:m h<span class="dt">2</span>:7 e<span class="dt">4</span>:m d:7</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>  g<span class="dt">2</span> d:7 g<span class="dt">1</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\repeat volta 2</span> <span class="kw">{</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    c<span class="dt">1</span> g g<span class="dt">2</span> d:7</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>  <span class="kw">}</span>Bock</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\alternative</span> <span class="kw">{</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    %<span class="co">Tag bedenken</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">\tag</span> #<span class="fl">'repeat</span> <span class="kw">{</span> g<span class="dt">1</span> <span class="kw">}</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>    <span class="kw">{</span> g<span class="dt">1</span> <span class="kw">}</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>  <span class="kw">}</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>%<span class="co"> im MUSIC-Teil wird der Tag dann wieder aktiviert</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>MUSIC = <span class="kw">{</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\keepWithTag</span> #<span class="fl">'repeat</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;&lt;</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>      <span class="fu">\songChords</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>      <span class="kw">\new</span> <span class="dt">ChoirStaff</span> = "<span class="st">firstStaff"</span></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&lt;&lt;</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>        <span class="kw">\new</span> <span class="dt">Voice</span> = "<span class="st">firstVoice"</span> <span class="kw">{</span> <span class="fu">\melodyVoice</span> <span class="kw">}</span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>        \addlyrics<span class="kw"> {</span> <span class="fu">\firstVerseWithRepeat</span> <span class="kw">}</span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>        \addlyrics<span class="kw"> {</span> <span class="fu">\secondVerseWithRepeat</span> <span class="kw">}</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>        \addlyrics<span class="kw"> {</span> <span class="fu">\thirdVerseWithRepeat</span> <span class="kw">}</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&gt;&gt;</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&gt;&gt;</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>%<span class="co"> Für die Strophen wollen wir keine Volta-Wiederholung</span></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>verse-<span class="fu">chords</span> = \chords<span class="kw"> {</span> <span class="fu">\removeWithTag</span> #<span class="fl">'repeat</span> <span class="fu">\verseChords</span> <span class="kw">}</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="umgang-mit-wiederholungen-bei-neuem-text" class="level2">
<h2 class="anchored" data-anchor-id="umgang-mit-wiederholungen-bei-neuem-text">Umgang mit Wiederholungen bei „neuem“ Text</h2>
<p>Problem: Volta-Klammern (Wiederholungsklammern), bei denen nicht derselbe Text wiederholt wird, sollten in den Strophen aufgelöst werden, damit der Text hintereinander (und nicht wie in den Noten untereinander) steht.</p>
<p>Lösung: Dafür nutzen wir den Befehl <code>\unfoldRepeats</code>, der in den <code>verse-chords</code> und <code>verse-voice</code> gesetzt werden muss und dann per <code>\override</code> auf die Strophen angewendet werden kann (Achtung: <code>\override</code> gilt immer nur für das folgende Element, zum Beispiel ein Vers oder ein <code>\group-verses</code>-Ausdruck). Außerdem müssen die Verse aufgeteilt werden in verschiedene Teile.</p>
<p>Codebeispiel:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>firstVerseA = \lyricmode<span class="kw"> {</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  #<span class="fl">(stanza </span><span class="dv">1</span><span class="fl">)</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  Er <span class="kw">--</span> ste Wie <span class="kw">--</span> der <span class="kw">--</span> ho <span class="kw">--</span> lung,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>firstVerseB = \lyricmode<span class="kw"> {</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  zwei <span class="kw">--</span> te Wie <span class="kw">--</span> der <span class="kw">--</span> ho <span class="kw">--</span> lung.</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>firstVerseC = \lyricmode<span class="kw"> {</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  Wei <span class="kw">--</span> ter geht’s</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>firstVerse = <span class="kw">{</span> <span class="fu">\firstVerseA</span> <span class="fu">\firstVerseB</span> <span class="fu">\firsVerseC</span> <span class="kw">}</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>verse-<span class="fu">chords</span> = \chords<span class="kw"> {</span> <span class="fu">\unfoldRepeats</span> <span class="fu">\verseChords</span> <span class="kw">}</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>verse-<span class="fu">voice</span> = <span class="kw">{</span> <span class="fu">\unfoldRepeats</span> <span class="fu">\firstVoice</span> <span class="kw">}</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>verse-<span class="fu">breaks</span> = <span class="kw">{</span> </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  s<span class="dt">4</span> s<span class="dt">2*3</span> s<span class="dt">4</span> <span class="fu">\break</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  s<span class="dt">4</span> s<span class="dt">2*3</span> s<span class="dt">4</span> <span class="fu">\break</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  s<span class="dt">4</span> s<span class="dt">2*3</span> s<span class="dt">4</span> <span class="fu">\break</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>TEXT = <span class="fu">\markuplist</span> <span class="kw">{</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  <span class="kw">\override</span> #<span class="fl">`(verse-chords . ,verse-chords)</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="kw">\override</span> #<span class="fl">`(verse-reference-voice . ,verse-voice)</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="kw">\override</span> #<span class="fl">`(verse-break-voice . ,verse-breaks)</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\group</span>-verses <span class="kw">{</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">\chordlyrics</span> <span class="fu">\firstVerse</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>  <span class="kw">}</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="strophen-mit-unterschiedlichen-noten--oder-silbenverteilung-oder-rhythmus" class="level2">
<h2 class="anchored" data-anchor-id="strophen-mit-unterschiedlichen-noten--oder-silbenverteilung-oder-rhythmus">Strophen mit unterschiedlichen Noten- oder Silbenverteilung oder Rhythmus</h2>
<p>Problem:</p>
<ul>
<li><p>Gerade bei neueren Liedern kommt es häufig vor, dass sie unterschiedliche Rhythmen (zum Beispiel Auftakte) in den Strophen haben. Da der Text an Noten ausgerichtet wird, kommt es somit zu einem Problem, wenn in der 1. Strophe beispielsweise kein Auftakt vorhanden ist, in der 2. Strophe jedoch schon, kann der Versanfang der 2. Strophe nicht an Noten ausgerichtet werden, da diese in der Melodie (der 1. Strophe) gar nicht vorkommen.</p></li>
<li><p>Das Notenbild / der Notensatz der 1. Strophe soll aber nicht unnötig aufgebläht werden durch Auftaktkonstruktionen (und es gibt natürlich auch noch wesentlich komplexere Konflikte), da dadurch die Lesbarkeit erschwert wird und das Notenbild mehr Verwirrung als Klarheit schaffen würde.</p></li>
</ul>
<p>Lösung:</p>
<ul>
<li><p>Nutzung von einer Funktion, die Tags nutzt: <code>\alt</code> (siehe Codebeispiel). Die Idee ist, dass es eine einfache Notation gibt (üblicherweise die der 1. Strophe) und eine komplexere, an der alle Verse ausgerichtet werden können. Die <code>\alt</code>-Funktion wird im <code>\relative</code>-Teil wie folgt angewendet: <code>\alt { A } { B }</code>. A steht für die einfache Notation, B für die komplexe.</p></li>
<li><p>Nun gibt es wiederum das Problem, dass der Text in den unterschiedlichen Notationen an unterschiedlichen Stellen geskipt werden muss. Dafür gibt es die Lösung über die Funktion <code>\multiVerseSkips X</code>. Das <code>X</code> ist dabei zu ersetzen mit der Anzahl der zu skipenden Noten. <code>X</code> muss mindestens den Wert <code>1</code> haben.</p></li>
<li><p>Im <code>MUSIC</code>-Teil muss der Tag nun auch angegeben werden. Zum Codebeispiel: Im <code>music</code>-Teil muss nichts angepasst werden, stattdessen kann man nun im <code>MUSIC</code>-Teil angeben, ob man die multiVerse-Ansicht oder die firstVerse-Ansicht angezeigt werden möchte. Das jeweils andere kann auskommentiert werden.</p></li>
</ul>
<p>Codebeispiel:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>firstVerse = \lyricmode<span class="kw"> {</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  #<span class="fl">(stanza </span><span class="dv">1</span><span class="fl">)</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\multiVerseSkips</span> <span class="dt">4</span> Komm zu mir, leg dich ins Laub</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">\\</span>multiVerseSkips <span class="dt">1</span> und <span class="kw">\\</span>multiVerseSkips <span class="dt">1</span> hör, was die Wur <span class="kw">--</span> zeln er <span class="kw">--</span> zäh <span class="kw">--</span> len.</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  Je <span class="kw">--</span> <span class="kw">\\</span>multiVerseSkips <span class="dt">1</span> des <span class="kw">\\</span>multiVerseSkips <span class="dt">1</span> Blatt zer <span class="kw">--</span> fällt ein <span class="kw">--</span> mal zu Staub</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">\\</span>multiVerseSkips <span class="dt">2</span> und je <span class="kw">--</span> der Baum wird auch wie <span class="kw">--</span> der zu Er <span class="kw">--</span> de.</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  Doch je <span class="kw">--</span> des En <span class="kw">--</span> de ist ein An <span class="kw">--</span> fang</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  und vol <span class="kw">--</span> ler Kreis <span class="kw">--</span> läu <span class="kw">--</span> fe sind Zeit und Raum.</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  Al <span class="kw">--</span> les ver <span class="kw">--</span> geht, doch nichts geht ver <span class="kw">--</span> lo <span class="kw">--</span> ren,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  al <span class="kw">--</span> les ist Wirk <span class="kw">--</span> lich <span class="kw">--</span> keit und al <span class="kw">--</span> les ist Traum.</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>%<span class="co"> Verwendung von alt</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>firstVoice = <span class="fu">\relative c'</span> <span class="kw">{</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\alt</span> <span class="kw">{}</span> <span class="kw">{</span> <span class="fu">\partial2</span> a<span class="dt">8</span> a d<span class="dt">8</span> f<span class="dt">8</span> <span class="kw">}</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  a<span class="dt">4.</span> a<span class="dt">8</span> a<span class="dt">4</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  g<span class="dt">4</span> a g</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  e<span class="dt">2.</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\alt</span> <span class="kw">{</span> r<span class="dt">2</span> d<span class="dt">4</span> <span class="kw">}</span> <span class="kw">{</span> r<span class="dt">4</span> r<span class="dt">8</span> d d d <span class="kw">}</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  e<span class="dt">4.</span> e<span class="dt">8</span> e<span class="dt">4</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  d<span class="dt">4</span> e d</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  c<span class="dt">4</span> a<span class="dt">2</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>%<span class="co"> Einbindung in music/MUSIC</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="fu">music</span> = <span class="kw">{</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;&lt;</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">\songChords</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>      <span class="kw">\new</span> <span class="dt">ChoirStaff</span> = "<span class="st">firstStaff"</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&lt;&lt;</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>        <span class="kw">\new</span> <span class="dt">Voice</span> = "<span class="st">firstVoice"</span> <span class="kw">{</span> <span class="fu">\melodyVoice</span> <span class="kw">}</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>        \addlyrics<span class="kw"> {</span> <span class="fu">\firstVerse</span> <span class="kw">}</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>        \addlyrics<span class="kw"> {</span> <span class="fu">\tag</span> #<span class="fl">'multiVerse</span> <span class="fu">\secondVerse</span> <span class="kw">}</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>        \addlyrics<span class="kw"> {</span> <span class="fu">\tag</span> #<span class="fl">'multiVerse</span> <span class="fu">\thirdVerse</span> <span class="kw">}</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>        \addlyrics<span class="kw"> {</span> <span class="fu">\tag</span> #<span class="fl">'multiVerse</span> <span class="fu">\fourthVerse</span> <span class="kw">}</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>        \addlyrics<span class="kw"> {</span> <span class="fu">\tag</span> #<span class="fl">'multiVerse</span> <span class="fu">\fifthVerse</span> <span class="kw">}</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&gt;&gt;</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&gt;&gt;</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>MUSIC = <span class="kw">{</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\keepWithTag</span> #<span class="fl">'multiVerse</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>  %<span class="co">\keepWithTag #'firstVerse</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\music</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-wurzeln" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-wurzeln-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2: Das sind die beiden möglichen resultierenden Ansichten.
</figcaption>
<div aria-describedby="fig-wurzeln-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<figcaption>Die <code>\firstVerse</code>-Ansicht:</figcaption>
<p><img src="images/firstverse.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<figcaption>Die <code>\multiVerse</code>-Ansicht:</figcaption>
<p><img src="images/multiverse.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</div>
</figure>
</div>
</section>
<section id="zeilenumbrüche-in-den-strophen" class="level2">
<h2 class="anchored" data-anchor-id="zeilenumbrüche-in-den-strophen">Zeilenumbrüche in den Strophen</h2>
<p>Siehe <a href="./liedlayout.html#zeilenumbrueche">Layout-Teil der Doku</a>.</p>
</section>
<section id="leichte-textvariationen" class="level2">
<h2 class="anchored" data-anchor-id="leichte-textvariationen">(Leichte) Textvariationen</h2>
<p>Problem: Es gibt teilweise leichte Textvariationen bei einzelnen Wörtern.</p>
<p>Lösung: Auch da helfen uns wieder die Tags (<a href="https://lilypond.org/doc/v2.25/Documentation/notation/using-tags.de.html">Lilypond-Doku</a>). Je nach Belieben kann dann entweder die eine Variante aktiviert werden oder die andere.</p>
<section id="innerhalb-einer-variante" class="level3">
<h3 class="anchored" data-anchor-id="innerhalb-einer-variante">Innerhalb einer Variante</h3>
<p>Beim Regenbogenlied gibt es beispielsweise eine Unterscheidung im Artikel zwischen dem ersten und zweitem Refrain. Die Lösung dafür ist, einfach beides einzubauen und dann das jeweils nicht benötigte auszuschalten. Das hat den Vorteil, dass wir trotzdem dieselbe Textbasis verwenden können.</p>
<p>Codebeispiel:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>refLyrics = \lyricmode<span class="kw"> {</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\ref</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\repStartWithTag</span> Ü <span class="kw">--</span> ber uns <span class="fu">\tag</span> #<span class="fl">'first</span> <span class="kw">{</span> ein <span class="kw">}</span> <span class="fu">\tag</span> #<span class="fl">'second</span> <span class="kw">{</span> der <span class="kw">}</span> Re <span class="kw">--</span> gen <span class="kw">--</span> bo <span class="kw">--</span> gen,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  zeigt uns den Weg in sei <span class="kw">--</span> nem Licht,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  die Wol <span class="kw">--</span> ken sind schon fort <span class="kw">--</span> ge <span class="kw">--</span> zo <span class="kw">--</span> gen,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  ver <span class="kw">--</span> weh <span class="kw">--</span> ren uns die Son <span class="kw">--</span> ne <span class="fu">\repStopWithTag</span> nicht.</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>refLyricsFirst = \lyricmode<span class="kw"> {</span> <span class="fu">\removeWithTag</span> #<span class="fl">'second</span> <span class="fu">\refLyrics</span> <span class="kw">}</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>refLyricsSecond = \lyricmode<span class="kw"> {</span> <span class="fu">\removeWithTag</span> #<span class="fl">'first</span> <span class="fu">\refLyrics</span> <span class="kw">}</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="verschiedene-varianten" class="level3">
<h3 class="anchored" data-anchor-id="verschiedene-varianten">Verschiedene Varianten</h3>
<p>Anders verhält es sich, wenn wir ein Lied haben, bei dem es verschiedene Varianten gibt. Mitunter kann es hilfreich sein, einen kürzeren Befehl zu haben, wenn beide Varianten sich an vielen Stellen unterscheiden. Das kann folgendermaßen gelöst werden:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">variant</span> =</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>#<span class="fl">(define-music-function (parser location a b) (ly:music? ly:music?) </span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fl">  #{</span> <span class="fu">\tag</span> #<span class="fl">'bock</span> <span class="kw">{</span> #<span class="fl">a</span> <span class="kw">}</span> <span class="fu">\tag</span> #<span class="fl">'codex</span> <span class="kw">{</span> #<span class="fl">b</span> <span class="kw">}</span> <span class="fl">#})</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Wenn mehr als zwei Varianten benötigt werden, kann der Befehl problemlos erweitert werden, indem weitere Elemente hinzugefügt werden:</p>
<p><code>#(define-music-function (parser location a b c d) (ly:music? ly:music? ly:music? ly:music?)  #{ \tag #'bock { #a } \tag #'codex { #b } \tag #'buedel { #c } \tag #'boernel { #d } #})</code>.</p>
<p>Der Tag-Abruf erfolgt dann zum Beispiel so:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>firstVerse = \lyricmode<span class="kw"> {</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  #<span class="fl">(stanza </span><span class="dv">1</span><span class="fl">)</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  Das ist der ers <span class="kw">--</span> te <span class="fu">\variant</span> <span class="kw">{</span> Vers <span class="kw">}</span> <span class="kw">{</span> Verse <span class="kw">}</span> <span class="kw">{</span> Teil <span class="kw">}</span> <span class="kw">{</span> Ab <span class="kw">--</span> schnitt <span class="kw">}</span>.</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Dabei ist die oben definierte Reihenfolge entscheidend! Der jeweils gewünschte Tag muss dann unbedingt im <code>MUSIC</code>-Teil zugewiesen werden. Dabei sollte im <code>MUSIC</code>-Teil ebenfalls erkennbar sein, wie viele und welche Varianten es überhaupt gibt, zum Beispiel durch auskommentierte Alternativvarianten:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>MUSIC = <span class="kw">{</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\keepWithTag</span> #<span class="fl">'bock</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  %<span class="co">\keepWithTag #'codex</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  %<span class="co">\keepWithTag #'buedel</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  %<span class="co">\keepWithTag #'boernel</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;&lt;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">\songChords</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>      <span class="kw">\new</span> <span class="dt">ChoirStaff</span> = "<span class="st">firstStaff"</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&lt;&lt;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">\new</span> <span class="dt">Voice</span> = "<span class="st">firstVoice"</span> <span class="kw">{</span> <span class="fu">\melodyVoice</span> <span class="kw">}</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>        \addlyrics<span class="kw"> {</span> <span class="fu">\firstVerse</span> <span class="kw">}</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>      <span class="kw">&gt;&gt;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&gt;&gt;</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="swing-style" class="level2">
<h2 class="anchored" data-anchor-id="swing-style">Swing-Style</h2>
<p>Den Swing-Style kann man mittels der Funktion <code>\swingMusic</code> erwirken. Das setzt den <em>folgenden</em> musikalischen Ausdruck im Swing-Style. <code>\swingMusic</code> kann beispielsweise in die <code>\melodyVoice</code> gepackt werden (dann geschweifte Klammern nicht vergessen). Die Midi-Ausgabe erfolgt dann sogleich rhythmisch korrekt.</p>
<p>Der Swing-Style kann mithilfe der Funktion <code>\swingOff</code> wieder ausgestellt werden. Das ist im unteren Beispiel zwar für die Midi-Ausgabe gar nicht nötig, allerdings printed <code>\swingOff</code> auch das entsprechende Zeichen, dass kein Swing-Style mehr gespielt werden soll. Andernfalls wüsste man anhand des Liedblattes nicht, dass der Swing-Style aufhört.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>melodyVoice = <span class="kw">{</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\global</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\swingMusic</span> <span class="kw">{</span> <span class="fu">\firstVoice</span> <span class="fu">\interludeVoice</span> <span class="kw">}</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\swingOff</span> <span class="fu">\refVoice</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\bar</span> "<span class="st">|."</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="sec-kanon" class="level2">
<h2 class="anchored" data-anchor-id="sec-kanon">Markierungen für beispielsweise Kanoneinsätze</h2>
<p>Markierungen wie beispielsweise eine römische Ziffer für den Einsatz einer Kanonstimme sollten auf folgendem Wege eingetragen werden (Beispiel für dreistimmigen Kanon):</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eins</span> = <span class="kw">{</span> <span class="fu">\tag</span> #<span class="fl">'einsaetze</span> <span class="kw">{</span> <span class="fu">\tweak</span> self-alignment-X #<span class="fl">LEFT</span> <span class="fu">\mark</span> <span class="bn">\markup</span> <span class="kw">{</span> <span class="bn">\italic</span> "<span class="st">I."</span> <span class="kw">}</span> <span class="kw">}</span> <span class="kw">}</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">zwei</span> = <span class="kw">{</span> <span class="fu">\tag</span> #<span class="fl">'einsaetze</span> <span class="kw">{</span> <span class="fu">\tweak</span> self-alignment-X #<span class="fl">LEFT</span> <span class="fu">\mark</span> <span class="bn">\markup</span> <span class="kw">{</span> <span class="bn">\italic</span> "<span class="st">II."</span> <span class="kw">}</span> <span class="kw">}</span> <span class="kw">}</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">drei</span> = <span class="kw">{</span> <span class="fu">\tag</span> #<span class="fl">'einsaetze</span> <span class="kw">{</span> <span class="fu">\tweak</span> self-alignment-X #<span class="fl">LEFT</span> <span class="fu">\mark</span> <span class="bn">\markup</span> <span class="kw">{</span> <span class="bn">\italic</span> "<span class="st">III."</span> <span class="kw">}</span> <span class="kw">}</span> <span class="kw">}</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Was passiert da und wo gibt es ggf. etwas anzupassen? Der Variablenname kommt als erstes. Dahinter folgt ein Tag, der hier <code>einsaetze</code> heißt, damit die Markierungen unten in den Strophen ausgeschaltet werden können. Anschließend folgen einige Platzierungsbefehle und dann ein <code>\markup</code>-Befehl: <code>\markup { \italic "I." }</code>. In der Regel sollten Markierungen wie diese immer kursiv geschrieben sein. Bei Kanoneinsätzen sollen römische Ziffern genutzt werden. Die Markierungen können aber natürlich auch in der Layout-Datei überschrieben werden.</p>
</section>
<section id="optionale-akkorde" class="level2">
<h2 class="anchored" data-anchor-id="optionale-akkorde">Optionale Akkorde</h2>
<p>Optionale Akkorde können eingeklammert werden anhand der Funktion <code>\klamm { d4:7 }</code>.</p>
</section>
<section id="benutzerdefinierte-akkordnamen" class="level2">
<h2 class="anchored" data-anchor-id="benutzerdefinierte-akkordnamen">Benutzerdefinierte Akkordnamen</h2>
<p>Akkordzeichen können unter Umständen deutlich komplizierter sein als beispielsweise <code>a:7</code>. Die in den meisten Fällen verwendete Schreibweise für Akkorde wie <code>a a:m a:7 a:sus4</code> etc. ist nur eine Kurzschreibform. Grundsätzlich ist jeder denkbare Akkord in LilyPond abbildbar, sofern man weiß, wie man ihn abbilden möchte. Die dafür erforderlichen Informationen finden sich in der <a href="https://lilypond.org/doc/v2.23/Documentation/notation/displaying-chords.de.html#customizing-chord-names">LilyPond-Doku</a>.</p>
<p>In der Datei <code>lilypond-custom-includes/custom_style_overrides.ly</code> können die Akkorde dann benutzerdefiniert und global angepasst werden, zum Beispiel:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>customChordPrintings = <span class="kw">{</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span>h dis' fis' e''&gt;-<span class="bn">\markup</span> <span class="kw">{</span> <span class="bn">\small</span> "<span class="st">add11"</span> <span class="kw">}</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span>a cis' gis' h'&gt;-<span class="bn">\markup</span> <span class="kw">{</span> <span class="bn">\small</span> "<span class="st">maj9"</span> <span class="kw">}</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Der obige Code macht aus der Eingabe <code>h:1.3.5.11</code> ein Hadd11. Hilfreich können gegebenenfalls die Markup-Befehle <code>\small</code>&nbsp;für eine kleinere Schrift und <code>\super</code> für Hochstellung sein.</p>
</section>
<section id="akkordtabulatur" class="level2">
<h2 class="anchored" data-anchor-id="akkordtabulatur">Akkordtabulatur</h2>
<p>Für manche speziellen Akkorde ist es nützlich für Gitarrenspieler*innen, eine Tabulatur des Akkords direkt auf der Seite des Liedes zu haben. Das geht so:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode lilypond code-with-copy"><code class="sourceCode lilypond"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>TEXT = <span class="fu">\markuplist</span> <span class="kw">{</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">\fret</span>-chord #<span class="fl">"</span><span class="st">x;x;o;2;3;2;"</span> #<span class="fl">"</span><span class="st">d"</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Im ersten String bekommt jede Gitarrensaite eine Zuweisung (<code>x</code> für nicht gespielt, <code>o</code> für leer oder Zahl für den Bund), gefolgt von einem Semikolon. Im zweiten String wird die LilyPond-Akkordbezeichnung gefordert. Bei komplizierteren Akkorden hat man dann vermutlich eher etwas wie <code>h:1.3.5.11</code> (für Hadd11) stehen als <code>d</code> (für D-Dur).</p>
</section>
<section id="römische-ziffern" class="level2">
<h2 class="anchored" data-anchor-id="römische-ziffern">Römische Ziffern</h2>
<p>Siehe <a href="./liedlayout_doku.html#sec-romanstanza">Layout-Doku</a>.</p>
</section>
<section id="balkensetzung" class="level2">
<h2 class="anchored" data-anchor-id="balkensetzung">Balkensetzung</h2>
<p>Bei der Balkensetzung sind unbedingt <a href="./liedsatz_standards.html">unsere Standards</a> zu beachten. Wie man in LilyPond die Balkensetzung beeinflusst, steht in der <a href="https://lilypond.org/doc/v2.25/Documentation/notation/setting-automatic-beam-behavior">LilyPond-Doku</a>.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/apfelpfluecker\.github\.io\/how-to-liederbuch\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./metadaten.html" class="pagination-link" aria-label="Metadaten">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Metadaten</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./liedlayout_doku.html" class="pagination-link" aria-label="Lied-Layout">
        <span class="nav-page-text">Lied-Layout</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>